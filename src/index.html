<!-- Importamos modelo gltf con textura -->

<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <body>
    <!-- Opción de a-scene para usar la cámara en HD -->
    <a-scene
      embedded
      arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnable: false;"
    >
      <!-- Cargo los assets que voy a usar -->
      <a-assets>
        <a-assets-item
          id="imagen_lab"
          src="https://cdn.glitch.global/f3412298-9d4d-4b13-8409-cc53e8db1855/lab_material.jpg?v=1649022433901"
        ></a-assets-item>

        <a-assets-item
          id="monkey_blue"
          src="https://cdn.glitch.global/f3412298-9d4d-4b13-8409-cc53e8db1855/monkey_blue_ar.gltf?v=1649644903946"
        ></a-assets-item>

        <a-assets-item
          id="monkey_textured"
          src="https://cdn.glitch.me/f3412298-9d4d-4b13-8409-cc53e8db1855/monkey_textured_2.gltf?v=1649645972098"
        ></a-assets-item>
        
        <a-assets-item id="dragon" src="https://cdn.glitch.global/f3412298-9d4d-4b13-8409-cc53e8db1855/dragon.gltf?v=1649693652385"></a-assets-item>
      </a-assets>

      <!-- Marker default HIRO -->
      <!-- Ver imagen: https://github.com/artoolkit/ARToolKit5/blob/master/doc/patterns/Hiro%20pattern%20with%20border.pdf -->

      <a-marker preset="hiro">
        
        <!-- Imagen sobre marcador. Tiene que ser textura para ser vista en mobile -->
        <!-- La relación de aspecto del plano tiene que ser la misma que la de la foto para no deformar -->
        <a-plane
          src="#imagen_lab"
          opacity="0.8"
          width="2"
          height="1.5"
          position="0 0 0"
          rotation="-90 0 0"
        ></a-plane>

        <!-- Primitivas sobre marcador -->
        <!-- Cubo Amarillo -->
        <a-box
          color="#fe0"
          opacity="0.6"
          position="0 0.6 0"
          width="1"
          height="1"
          depth="1"
        >
        </a-box>

        <!-- Modelos 3D -->
        <!-- Monkey Texturizado sobre marcador -->
        <a-entity
          position="0 2 0"
          rotation="-90 0 0"
          scale="10 10 10"
          gltf-model="#monkey_textured"
        ></a-entity>
        
      <a-entity position="0 0 0"
                gltf-model="#dragon"
                animation-mixer="clip:*"></a-entity>
        
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
